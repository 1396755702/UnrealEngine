Title: 2. Setting up UE4 to work with SteamVR
Crumbs:%ROOT%, Platforms
Description: Setting up SteamVR and UE4 to work together
Availability:Public
Navigation:platform
Platform:SteamVR

[VAR:Steps]
[OBJECT:Navigation]
	[PARAM:previous]
	[Previous Step](Platforms/SteamVR/QuickStart/1 "%Platforms/SteamVR/QuickStart/1:title%")
	[/PARAM]
	[PARAM:current]
	[/PARAM]
	[PARAM:home]
		[SteamVR Quick Start Home](Platforms/SteamVR/QuickStart)
	[/PARAM]
	[PARAM:next]
	[/PARAM]
[/OBJECT]
[/VAR]

%Steps%

In the following section we will go over how to setup a new Unreal Engine 4 (UE4) project to work with SteamVR.

[region:note]
If you have not done so already make sure to run the SteamVR **Room Setup**  to establish and calibrate the tracking area. 
Failing to do this could result in SteamVR and UE4 not working correctly together.
[/region]

1. Create a new blank Blueprint base project with hardware set to **Mobile / Tablet**, graphics set to **Scalable 3D or 2D** and **No Starter Content**.

	![](T_CreateNewProject.png)

1. Once the project loads click on the small triangle next to the **Play** button and then from the menu that is displayed, select the **VR Preview** option. 
	If your VR Headset is properly set up you should now see the basic level being display and have the ability to rotate your head around in any direction when you put the HMD on.
	
	![](Check_VR_Working_00.png)

	[region:tip]
	If your can not get the HTC Vive HMD to work check the Plugins section to make sure that the Steam VR plug-in is enabled and if not click on the checkmark box next to **Enable** to enable it.
	 ![](T_Enable_Steam_VR.png)
	 If that still does not get your VR Headset to work with the VR Preview make sure to check out the [VR Documents](Platforms/VR) to ensure that nothing was missed during setup.
	[/region]

1. With verification that the Head Mounted Display (HMD) is working, right - click inside of the **Content Browser** and select the **Blueprint Class** option from the **Create Basic Asset** section.

	![](Create_New_BP.png)

1. From the **Pick Parent Class** window that is displayed search for, create and name the following Blueprint nodes.

	![](Pick_Parent_Class_Window.png)

	|Blueprint Node|Name to use|
	|--------------|------|
	|Game Mode|VR_GameMode|
	|Pawn|VR_Pawn|

	When completed you should have the following Blueprints in your Content Browser.

	![](Creating_Required_BP_Nodes.png)

1. Open **VR_GameMode** Blueprint and then under the **Classes** section change the **Default Pawn Class** to point to the **VR_Pawn** that was created.
	
	![](Setting_Up_Game_Mode.png)

1. Under **World Settings** in the **Game Mode** section, change the **GameMode Override** to the **VR_GameMode**.

	![](Adding_New_GameMode.png)

1. Now open up the **VR_Pawn** Blueprint then click on the **Class Defaults** and in the **Details** panel under the **Camera** section set the **Base Eye Height** to **0.0**.

	![](Set_Base_Eye_Height.png)

1. In the **Components** tab, add a **SteamVRChaperone** and **Camera** component makeing sure that the camera's **Transform Location** is set to **0,0,0**.

	![](Adding_A_Camera.png)

1. Inside of the level, select the Static Mesh used for the floor and set the X, Y and Z location to **0,0,0**.

	![](Move_Floor_Down.png)

1. Select the **Player Start** and position it so that the center of the Player Start is just above the Static Mesh used for the ground. 
In this example we used a **Z** height of **1.0 CM** for the Player Start.

	![](Move_Player_Start.png)

	[region:note]
	Normally you do not want to have your **Player Start** intersecting with any type of geometry in your level. 
	However because SteamVR reads your HMD's origin as 0,0,0, or sitting on the floor, moving the Player Start to a normal height will cause there to be an offset applied to the VR camera making it appear that your player is floating above the ground.  
	[/region]

1. Launch the level using the **VR Preview** button, put your HMD on and then stand up.
You should now feel as though the virtual floor that you are standing on matches up to the real world floor.


%Steps%

