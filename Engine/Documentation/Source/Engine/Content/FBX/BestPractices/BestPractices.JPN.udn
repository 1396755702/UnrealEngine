INTSourceChangelist:2600970
Availability:Public
Title:FBX ベスト プラクティス
Crumbs: %ROOT%, Engine, Engine/Content, Engine/Content/FBX
Description:UE4 の FBX コンテンツ パイプラインの操作に関するヒント、コツ、ベスト プラクティス。

[VAR:Topic]
[OBJECT:Topic]
	[PARAM:image]
		![%Engine/Content/FBX/BestPractices:Title%](Engine/Content\FBX\fbx_topic.png)
	[/PARAM]
	[PARAM:icon]
		![](%ROOT%/content_icon.png)(convert:false)
	[/PARAM]
	[PARAM:title]
		%Engine/Content/FBX/BestPractices:Title%
	[/PARAM]
	[PARAM:description]
		%Engine/Content/FBX/BestPractices:description%
	[/PARAM]
	[PARAM:path]
		[RELATIVE:Engine/Content/FBX/BestPractices]
	[/PARAM]
[/OBJECT]
[/VAR]

[TOC(start:2)]


このページには、Epic のアーティストが FBX コンテンツ パイプラインを扱うときに用いるコツとベストプラクティスが掲載されています。 


##スタティックメッシュのワークフロー



* 3D アプリケーションから FBX ファイルにメッシュをエクスポートする。
    * Epic のアーティストが通常使用するエクスポート設定は、次のようになります。
        * **Smoothing Groups** を有効にする。 
        * **Tangents and Binormals** を無効にする。
        * **Preserve Edge Orientation** を有効にする。
* アンリアルの **コンテンツ ブラウザ** を使用して FBX ファイルをインポートする。


![](BestPracticesOptions.png)(w:594 h:572 convert:false)


### 便利なリンク

* [メッシュのエクスポート](Engine/Content/FBX/StaticMeshes#メッシュのエクスポート)
* [メッシュのインポート](Engine/Content/FBX/StaticMeshes#メッシュのインポート)



## スケルタルメッシュのワークフロー



* メッシュとスケルトンを FBX ファイルにエクスポートします。
    エクスポートするアイテムを選択し (メッシュおよびジョイントチェーンルート)、選択したものをエクスポートします。
    * Epic のアーティストが通常使用するエクスポート設定は、次のようになります。
        * **Smooth Mesh** は無効にする。 
        * **Smoothing Groups** を有効にする。 
* アンリアルの **コンテンツ ブラウザ** を使用して FBX ファイルをインポートする。



### 便利なリンク


* [スケルタルメッシュのエクスポート](Engine/Content/FBX/SkeletalMeshes#メッシュのエクスポート)
* [スケルタルメッシュのインポート](Engine/Content/FBX/SkeletalMeshes#メッシュのインポート)



##アニメーションのワークフロー



* アニメーションを FBX ファイルにエクスポートする。
    * エクスポートすべきアイテムを選択し (必要に応じてメッシュ、ジョイントチェーンルート)、選択したものをエクスポートする。
    * エクスポートの設定は次のようになります。
        * **アニメーション** を有効にする。 
* FBX ファイルをアニメーションとして **コンテンツ ブラウザ** にインポートする。



### 便利なリンク


* [アニメーションをエクスポートする](Engine/Content/FBX/Animations#ExportingAnimations)
* [アニメーションをインポートする](Engine/Content/FBX/Animations#ImportingAnimations)



## モーフターゲットのワークフロー 



* モーフターゲットを FBX ファイルにエクスポートする。
    * エクスポートするアイテムを選択し (ブレンドシェイプ / モーファーモディファイアを伴ったメッシュ)、選択したものをエクスポートする。
    * エクスポートの設定は次のようになります。
        * **アニメーション** を有効にする。 
        * **Deformed Models/Deformations** のすべてのオプションを有効にする。
* FBX ファイルをアニメーションとして **コンテンツ ブラウザ** にインポートする。



### 便利なリンク


* [モーフターゲットのエクスポート](Engine/Content/FBX/MorphTargets#ExportingMorphs)
* [モーフターゲットのインポート](Engine/Content/FBX/MorphTargets#ImportingMorphs)



## 命名スキーム 

エクスポートされるファイルについて、Epic のアーティストは通常、次の命名スキームに従います。

* **スタティック メッシュ ** SM\_**&lt;PackageName&gt;\_&lt;AssetName&gt;\_&lt;Index&gt;**
* **スケルタル メッシュ ** SK\_**&lt;PackageName&gt;\_&lt;AssetName&gt;\_&lt;Index&gt;**


プロジェクト全体に適用される命名スキームを用いることによって、アセットファイルの整理と特定が簡単になります。 

ただし、長年慣れ親しんできたパッケージの概念は、これまでと比べてアンリアル 4 では劇的に変わっています。パッケージに含まれるファイルは 1 つのみとなり、ゲームのディレクトリ構造は前の.upk file 内にあるような様々なレベルを定義します。詳細は [アセットとパッケージ](Engine/Basics/AssetsAndPackages) を参照してください。

![](FBXBestPractices_packages.png)

_この画像では、アセット (StoneBox) を含む (Meshes) をグループ化してパッケージ (Game) をもつ UE3 と同じように、StoneBox は Meshes と呼ばれるフォルダに入っています。 _


##シーンの管理


Epic のアーティストはたいてい類似アセットを単一ファイルに保存します。たとえば、スタティックメッシュに 3 種類の状態 (normal: 通常、damaged: 破損、broken: 破壊) がある場合、すべてを同一ファイルに入れます。ただし、各メッシュは 1 つの FBX ファイルとしてエクスポートされます。 

![FBXBestPractices_MultipleColumn.jpg](FBXBestPractices_MultipleColumn.jpg)(w:410 h:810)

スケルトンにバインドされたメッシュのクリーンなエクスポートファイルを作る方が容易です。このメッシュは、エクスポート専用に使用されることになります。リグは、そのファイルから作成されますが、別個のリグファイルに保存されます。 

![FBXBestPractices_Character.jpg](FBXBestPractices_Character.png)(convert:false)

別個のリグファイル。

![FBXBestPractices_CharacterRig.jpg](FBXBestPractices_CharacterRig.png)(convert:false)

各アニメーションも通常、独自ファイルに保存されます。そのため、ファイルシステムで各種アニメーションを管理するのが容易になります。


## アンリアル エディタでコンテンツ名を変更する

名前を変更したいアイテムを選んで **F2** を押すか、アイテムを **右クリック** して **Rename** を選択するか、いずれかの方法で **コンテンツ ブラウザ** でオブジェクト名を変更できます。これで **コンテンツ ブラウザ** でオブジェクト名がハイライトされ、Windows でファイル名を編集するように、新しい名前が入力可能になります。

![FBXBestPractices_MoveOrRename.jpg](FBXBestPractices_MoveOrRename.png)

undo キャッシュについて通知を受け取ると思いますが、キャッシュのオブジェクトが古い名前でリストされているためであり問題ありません。今後問題を起こさないようにクリアする必要があります。

### 便利なリンク


* [FBX をインポートするときの命名規則](Engine/Content/FBX/ImportOptions#NamingConventions)



## シーン全体のインポート / エクスポート

これが便利なのは、マチネで作成されたカメラや、マチネでアニメートされたビークルのパスをエクスポートする場合です。さらに、3D コンテンツ作成パッケージにおいてシネマティックを再現するには、情報すべてが必要となります。3D コンテンツ作成パッケージ内で調整が完了すると、FBX としてエクスポート可能になるとともに、UE4 にインポートできるようになります。 

マチネからエクスポートしています。 

![](FBXBestPractices_MatineeExportAll.png)

FBX は現在 **Export All** (全てをエクスポート) に対してサポートしている唯一のエクスポート タイプですので、名前を付けて [OK] をクリックします。

![](FBXBestPractices_MatineeExportDiag.png)

マチネ インターフェース内からも、 FBX データをインポートできます (おそらくサードパーティ パッケージ内で微調整後)。

![](FBXBestPractices_MatineeImport.png)

 




